{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA,OAAO,SAAP,MAAsB,sBAAtB;AACA,OAAO,UAAP,MAAuB,qBAAvB;AACA,OAAO,YAAP,MAAyB,yBAAzB;AACA,OAAO,UAAP,MAAuB,uBAAvB;AACA,SAAS,aAAT,EAAwB,KAAxB,EAA+B,cAA/B,QAAqD,UAArD;;AAEA,MAAM,YAAY,IAAI,SAAJ,CAAc,aAAd,CAAlB;AACA,MAAM,MAAM,IAAI,UAAJ,EAAZ;AACA,MAAM,OAAO,IAAI,UAAJ,CAAiB,IAAD,IAAU,KAAK,GAAL,CAAS,KAAK,aAAd,CAA1B,CAAb;AACA,MAAM,QAAQ,IAAI,YAAJ,EAAd;;AAEA,UACG,OADH,GAEG,IAFH,CAES,OAAD,IAAa,UAAU,SAAV,CAAoB,YAApB,EAAmC,OAAD,IAAa,MAAM,GAAN,CAAU,KAAK,KAAL,CAAW,QAAQ,IAAnB,CAAV,CAA/C,CAFrB,EAGG,KAHH,CAGU,KAAD,IAAW,QAAQ,KAAR,CAAc,KAAd,CAHpB;;AAKA;AACA,OAAO,WAAP,CAAmB,MAAM;AACvB,MAAI,OAAO,EAAX;AACA,QAAM,OAAN,GAAgB,OAAhB,CAAyB,IAAD,IAAU,KAAK,IAAL,CAAU,IAAV,CAAlC;AACA,SAAO,KAAK,IAAL,KAAc,CAArB,EAAwB;AAAC,SAAK,IAAL,CAAU,KAAK,GAAL,EAAV;AAAsB;AAC/C,MAAI,UAAU,SAAS,cAAT,CAAwB,oBAAxB,CAAd;AACA,MAAI,WAAW,QAAQ,UAAvB;AACA,WAAS,YAAT,CAAsB,IAAI,WAAJ,CAAgB,IAAhB,CAAtB,EAA6C,OAA7C;AACD,CAPD,EAOG,KAPH,E,CAOY;;AAEZ;AACA,OAAO,WAAP,CAAmB,MAAM;AACvB,QAAM,gBAAN;AACD,CAFD,EAEG,cAFH","file":"index-compiled.js","sourcesContent":["import WSService from './services/WSService';\nimport BinaryHeap from './models/BinaryHeap';\nimport QueueService from './services/QueueService';\nimport DOMService from './services/DOMService'\nimport { WEBSOCKET_URL, DELAY, MIDPRICE_DELAY } from './consts';\n\nconst WebSocket = new WSService(WEBSOCKET_URL);\nconst dom = new DOMService();\nconst heap = new BinaryHeap(((item) => Math.abs(item.lastChangeBid)));\nconst queue = new QueueService();\n\nWebSocket\n  .connect()\n  .then((success) => WebSocket.subscribe('/fx/prices', (message) => queue.add(JSON.parse(message.body))))\n  .catch((error) => console.error(error));\n\n//  renders table\nwindow.setInterval(() => {\n  var data = [];\n  queue.getData().forEach((item) => heap.push(item));\n  while (heap.size() > 0) {data.push(heap.pop())}\n  var tableEl = document.getElementById('currency-dashboard');\n  let parentEl = tableEl.parentNode;\n  parentEl.replaceChild(dom.tableCreate(data), tableEl);\n}, DELAY);  // 1000ms default by server\n\n//  Remove mid prices history\nwindow.setInterval(() => {\n  queue.discartMidPrices();\n}, MIDPRICE_DELAY)\n\n\n\n\n"]}