{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA;;;AAGA,OAAO,SAAP,MAAsB,sBAAtB;AACA,OAAO,UAAP,MAAuB,uBAAvB;AACA,OAAO,YAAP,MAAyB,yBAAzB;AACA,SAAS,aAAT,EAAwB,KAAxB,QAAqC,UAArC;;AAEA,IAAI,YAAY,IAAI,SAAJ,CAAc,aAAd,CAAhB;AACA,IAAI,OAAO,IAAI,UAAJ,CAAiB,IAAD,IAAU,KAAK,GAAL,CAAS,KAAK,aAAd,CAA1B,CAAX;AACA,IAAI,QAAQ,IAAI,YAAJ,EAAZ;;AAEA;AACA,UACG,OADH,GAEG,IAFH,CAES,OAAD,IAAa,UAAU,SAAV,CAAoB,YAApB,EAAmC,OAAD,IAAa,MAAM,GAAN,CAAU,KAAK,KAAL,CAAW,QAAQ,IAAnB,CAAV,CAA/C,CAFrB,EAGG,KAHH,CAGU,KAAD,IAAW,QAAQ,KAAR,CAAc,KAAd,CAHpB;;AAKA,OAAO,WAAP,CAAmB,MAAM;AACvB,MAAI,OAAO,EAAX;AACA,QAAM,OAAN,GAAgB,OAAhB,CAAyB,IAAD,IAAU,KAAK,IAAL,CAAU,IAAV,CAAlC;AACA,SAAO,KAAK,IAAL,KAAc,CAArB,EAAwB;AAAC,SAAK,IAAL,CAAU,KAAK,GAAL,EAAV;AAAsB;AAC/C,MAAI,QAAQ,SAAS,cAAT,CAAwB,KAAxB,CAAZ;AACA,MAAI,QAAQ,wBAAZ;AACA,WAAS,EAAT;AACA,MAAI,OAAO,qGAAX;AACA,OAAK,OAAL,CAAc,IAAD,IAAU;AACrB,YAAQ,KACN,MADM,GAEJ,OAFI,GAEM,KAAK,IAFX,GAEkB,QAFlB,GAGJ,OAHI,GAGM,KAAK,OAHX,GAGqB,QAHrB,GAIJ,OAJI,GAIM,KAAK,OAJX,GAIqB,QAJrB,GAKJ,OALI,GAKM,KAAK,OALX,GAKqB,QALrB,GAMJ,OANI,GAMM,KAAK,aANX,GAM2B,QAN3B,GAON,OAPF;AAQD,GATD;AAUA,QAAM,SAAN,GAAkB,MAAM,OAAN,CAAc,SAAd,EAAyB,IAAzB,CAAlB;AAED,CApBD,EAoBG,KApBH","file":"index-compiled.js","sourcesContent":["/**\n * Created by anthrax on 10/4/16.\n */\nimport WSService from './services/WSService';\nimport BinaryHeap from './services/BinaryHeap';\nimport QueueService from './services/QueueService';\nimport { WEBSOCKET_URL, DELAY } from './consts';\n\nvar WebSocket = new WSService(WEBSOCKET_URL);\nvar heap = new BinaryHeap(((item) => Math.abs(item.lastChangeBid)));\nvar queue = new QueueService();\n\n// connect and subscribe\nWebSocket\n  .connect()\n  .then((success) => WebSocket.subscribe('/fx/prices', (message) => queue.add(JSON.parse(message.body))))\n  .catch((error) => console.error(error));\n\nwindow.setInterval(() => {\n  var data = [];\n  queue.getData().forEach((item) => heap.push(item));\n  while (heap.size() > 0) {data.push(heap.pop())}\n  var appEl = document.getElementById('app');\n  var table = \"<table>content</table>\";\n  table += \"\";\n  var mask = \"<thead><tr><th>name</th><th>bestBid</th><th>bestAsk</th><th>openBid</th><th>lastChangeBid</th></tr>\";\n  data.forEach((item) => {\n    mask += '' +\n      '<tr>' +\n        ' <td>' + item.name + '</td> ' +\n        ' <td>' + item.bestBid + '</td> ' +\n        ' <td>' + item.bestAsk + '</td> ' +\n        ' <td>' + item.openBid + '</td> ' +\n        ' <td>' + item.lastChangeBid + '</td> ' +\n      '</tr>';\n  });\n  appEl.innerHTML = table.replace('content', mask);\n\n}, DELAY);"]}